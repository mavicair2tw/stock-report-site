<!doctype html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Built to Collect. Designed to Scale.</title>
    <style>
      :root {
        --bg: #0b1020;
        --bg2: #0a1226;
        --panel: #121a2f;
        --line: #253252;
        --text: #e6edf3;
        --muted: #9fb0c3;
        --accent: #60a5fa;
      }
      * { box-sizing: border-box; }
      body {
        margin: 0;
        min-height: 100vh;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        background: linear-gradient(180deg, var(--bg) 0%, var(--bg2) 100%);
        color: var(--text);
      }
      .wrap { max-width: 1100px; margin: 0 auto; padding: 32px 20px; }
      .top-bar{display:flex;align-items:flex-start;justify-content:space-between;gap:12px;flex-wrap:wrap;margin-bottom:10px}
      .logo{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:10px;border:1px solid #35558d;background:linear-gradient(135deg,#132547 0%,#1c3563 100%);color:#dbeafe;font-weight:800;font-size:13px}
      .weather-box{min-width:280px;max-width:360px;padding:10px 12px;border-radius:10px;border:1px solid #2a3a5e;background:#101a33;color:#dbeafe;font-size:13px}
      .weather-title{font-weight:700;margin-bottom:6px}
      .weather-meta{color:#b9cae6;line-height:1.45}
      .top-tags{display:flex;flex-wrap:wrap;gap:10px}
      .nav-item{display:flex;flex-direction:column;gap:4px;align-items:flex-start}
      .tag{display:inline-block;padding:6px 10px;border-radius:999px;border:1px solid #35558d;color:#cfe2ff;text-decoration:none;font-size:12px;font-weight:700}
      .tag-sub{color:#8fa3bf;font-size:11px;line-height:1;padding-left:8px}
      .tag.active{border-color:#60a5fa;background:#1a315f;color:#fff}
      .hero-tag {
        display: inline-block;
        padding: 6px 12px;
        border-radius: 999px;
        font-size: 12px;
        font-weight: 700;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        border: 1px solid #35558d;
        background: linear-gradient(135deg, #132547 0%, #1c3563 100%);
        color: #cfe2ff;
        margin-bottom: 14px;
      }
      h1 {
        margin: 0 0 10px;
        font-size: 34px;
        line-height: 1.2;
        background: linear-gradient(90deg, #ffffff 0%, #b7d0ff 45%, #8ab4ff 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }
      .sub { margin: 0 0 20px; color: var(--muted); }
      .counter { color: var(--muted); margin-bottom: 20px; }
      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
        gap: 12px;
      }
      .card {
        display: block;
        text-decoration: none;
        color: var(--text);
        border: 1px solid var(--line);
        border-radius: 12px;
        padding: 16px;
        background: var(--panel);
        transition: transform .12s ease, border-color .12s ease;
      }
      .card:hover { transform: translateY(-2px); border-color: var(--accent); }
      .name { font-weight: 700; margin-bottom: 6px; }
      .desc { color: var(--muted); font-size: 14px; }
      .hero-image-wrap{margin:14px 0 18px}
      .hero-image{width:100%;max-width:1100px;border-radius:14px;border:1px solid var(--line);display:block}
      .foot { margin-top: 20px; color: var(--muted); font-size: 13px; }
    
      .site-link{margin-top:18px;color:var(--muted);font-size:13px}
      .site-link a{color:#93c5fd;text-decoration:none}
      .site-link a:hover{text-decoration:underline}
    </style>
  </head>
  <body>
    <main class="wrap">
      <h1>Built to Collect. Designed to Scale.</h1>
      <div class="top-bar">
        <div class="logo">openai-tw.com</div>
        <div class="weather-box" id="weatherBox">
          <div class="weather-title">天氣</div>
          <div class="weather-meta" id="weatherMeta">讀取裝置位置中…</div>
        </div>
      </div>
      <div class="hero-image-wrap">
        <img class="hero-image" src="/assets/hero.jpg" alt="Main page visual" />
      </div>
      <p class="sub">主入口：選擇你要看的報表與內容。</p>
      <div class="counter" id="viewCounter">點閱數：--</div>

      <section class="grid">
        <a class="card" href="/tw/">
          <div class="name">台股 15 分鐘</div>
          <div class="desc">台股即時報表、漲跌與摘要</div>
        </a>
        <a class="card" href="/us/">
          <div class="name">美股 15 分鐘</div>
          <div class="desc">美股即時報表、漲跌與摘要</div>
        </a>
        <a class="card" href="/btc-hourly/">
          <div class="name">BTC 每小時</div>
          <div class="desc">比特幣價格與變化</div>
        </a>
        <a class="card" href="/tw-news/">
          <div class="name">台股新聞</div>
          <div class="desc">台股新聞整理</div>
        </a>
        <a class="card" href="/us-news/">
          <div class="name">美股新聞</div>
          <div class="desc">美股新聞整理</div>
        </a>
        <a class="card" href="/interesting-stories/">
          <div class="name">每日有趣故事</div>
          <div class="desc">每日輕鬆閱讀內容</div>
        </a>
        <a class="card" href="/coffee-news/">
          <div class="name">每日咖啡新聞</div>
          <div class="desc">咖啡相關資訊與趨勢</div>
        </a>
        <a class="card" href="/podcast/">
          <div class="name">Podcast</div>
          <div class="desc">音訊內容入口</div>
        </a>
        <a class="card" href="/guestbook/">
          <div class="name">Chat</div>
          <div class="desc">留下你的想法與建議</div>
        </a>
      </section>

      <div class="foot">提示：綠色 = 上漲，紅色 = 下跌。</div>
          <div class="site-link"><a href="https://openai-tw.com/">openai-tw.com</a></div>
    </main>

    <script>
      const pageKey = `views:${location.pathname}`;
      const pageViews = Number(localStorage.getItem(pageKey) || '0') + 1;
      localStorage.setItem(pageKey, String(pageViews));
      const el = document.getElementById('viewCounter');
      if (el) el.textContent = `點閱數：${pageViews}`;

      function windDir(deg){
        const dirs = ['北','東北','東','東南','南','西南','西','西北'];
        return dirs[Math.round((((deg % 360) + 360) % 360) / 45) % 8];
      }

      async function loadWeatherByLocation(lat, lon){
        const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current=temperature_2m,relative_humidity_2m,wind_direction_10m&hourly=precipitation_probability&timezone=auto`;
        const res = await fetch(url);
        const data = await res.json();

        const current = data.current || {};
        const meta = document.getElementById('weatherMeta');
        if (!meta) return;
        const parts = [
          `溫度 ${current.temperature_2m ?? 'N/A'}°C`,
          `風向 ${windDir(current.wind_direction_10m ?? 0)} (${current.wind_direction_10m ?? 'N/A'}°)`,
          `濕氣 ${current.relative_humidity_2m ?? 'N/A'}%`
        ];
        meta.textContent = parts.join(' ｜ ');
      }

      (function initWeather(){
        const meta = document.getElementById('weatherMeta');
        if (!meta) return;
        if (!navigator.geolocation) {
          meta.textContent = '此裝置不支援定位，無法讀取當地天氣。';
          return;
        }
        navigator.geolocation.getCurrentPosition(
          pos => loadWeatherByLocation(pos.coords.latitude, pos.coords.longitude).catch(() => {
            meta.textContent = '天氣資料讀取失敗，請稍後再試。';
          }),
          () => {
            loadWeatherByLocation(25.0330, 121.5654)
              .then(() => {
                const m = document.getElementById('weatherMeta');
                if (m) m.textContent = `[台北預設] ${m.textContent}`;
              })
              .catch(() => { meta.textContent = '未授權位置存取，且台北天氣讀取失敗。'; });
          },
          { enableHighAccuracy: false, timeout: 8000, maximumAge: 300000 }
        );
      })();
    </script>
  </body>
</html>
